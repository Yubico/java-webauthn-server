<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Sun Apr 28 12:44:15 UTC 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>com.yubico.webauthn (webauthn-server-core 1.2.0 API)</title>
<meta name="date" content="2019-04-28">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="com.yubico.webauthn (webauthn-server-core 1.2.0 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/yubico/internal/util/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../com/yubico/webauthn/attestation/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/yubico/webauthn/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;com.yubico.webauthn</h1>
<div class="docSummary">
<div class="block">This package makes up the public API of the webauthn-server-core library.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/CredentialRepository.html" title="interface in com.yubico.webauthn">CredentialRepository</a></td>
<td class="colLast">
<div class="block">An abstraction of the database lookups needed by this library.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/AssertionRequest.html" title="class in com.yubico.webauthn">AssertionRequest</a></td>
<td class="colLast">
<div class="block">A combination of a <a href="../../../com/yubico/webauthn/data/PublicKeyCredentialRequestOptions.html" title="class in com.yubico.webauthn.data"><code>PublicKeyCredentialRequestOptions</code></a> and, optionally, a <a href="../../../com/yubico/webauthn/AssertionRequest.html#getUsername--"><code>username</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/AssertionRequest.AssertionRequestBuilder.html" title="class in com.yubico.webauthn">AssertionRequest.AssertionRequestBuilder</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/AssertionRequest.AssertionRequestBuilder.MandatoryStages.html" title="class in com.yubico.webauthn">AssertionRequest.AssertionRequestBuilder.MandatoryStages</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/AssertionResult.html" title="class in com.yubico.webauthn">AssertionResult</a></td>
<td class="colLast">
<div class="block">The result of a call to <a href="../../../com/yubico/webauthn/RelyingParty.html#finishAssertion-com.yubico.webauthn.FinishAssertionOptions-"><code>RelyingParty.finishAssertion(FinishAssertionOptions)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/FinishAssertionOptions.html" title="class in com.yubico.webauthn">FinishAssertionOptions</a></td>
<td class="colLast">
<div class="block">Parameters for <a href="../../../com/yubico/webauthn/RelyingParty.html#finishAssertion-com.yubico.webauthn.FinishAssertionOptions-"><code>RelyingParty.finishAssertion(FinishAssertionOptions)</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/FinishAssertionOptions.FinishAssertionOptionsBuilder.html" title="class in com.yubico.webauthn">FinishAssertionOptions.FinishAssertionOptionsBuilder</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/FinishAssertionOptions.FinishAssertionOptionsBuilder.MandatoryStages.html" title="class in com.yubico.webauthn">FinishAssertionOptions.FinishAssertionOptionsBuilder.MandatoryStages</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/FinishRegistrationOptions.html" title="class in com.yubico.webauthn">FinishRegistrationOptions</a></td>
<td class="colLast">
<div class="block">Parameters for <a href="../../../com/yubico/webauthn/RelyingParty.html#finishRegistration-com.yubico.webauthn.FinishRegistrationOptions-"><code>RelyingParty.finishRegistration(FinishRegistrationOptions)</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/FinishRegistrationOptions.FinishRegistrationOptionsBuilder.html" title="class in com.yubico.webauthn">FinishRegistrationOptions.FinishRegistrationOptionsBuilder</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/FinishRegistrationOptions.FinishRegistrationOptionsBuilder.MandatoryStages.html" title="class in com.yubico.webauthn">FinishRegistrationOptions.FinishRegistrationOptionsBuilder.MandatoryStages</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/RegisteredCredential.html" title="class in com.yubico.webauthn">RegisteredCredential</a></td>
<td class="colLast">
<div class="block">An abstraction of a credential registered to a particular user.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/RegisteredCredential.RegisteredCredentialBuilder.html" title="class in com.yubico.webauthn">RegisteredCredential.RegisteredCredentialBuilder</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/RegisteredCredential.RegisteredCredentialBuilder.MandatoryStages.html" title="class in com.yubico.webauthn">RegisteredCredential.RegisteredCredentialBuilder.MandatoryStages</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/RegistrationResult.html" title="class in com.yubico.webauthn">RegistrationResult</a></td>
<td class="colLast">
<div class="block">The result of a call to <a href="../../../com/yubico/webauthn/RelyingParty.html#finishRegistration-com.yubico.webauthn.FinishRegistrationOptions-"><code>RelyingParty.finishRegistration(FinishRegistrationOptions)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/RelyingParty.html" title="class in com.yubico.webauthn">RelyingParty</a></td>
<td class="colLast">
<div class="block">Encapsulates the four basic Web Authentication operations - start/finish registration, start/finish authentication -
 along with overall operational settings for them.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/RelyingParty.RelyingPartyBuilder.html" title="class in com.yubico.webauthn">RelyingParty.RelyingPartyBuilder</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/RelyingParty.RelyingPartyBuilder.MandatoryStages.html" title="class in com.yubico.webauthn">RelyingParty.RelyingPartyBuilder.MandatoryStages</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/StartAssertionOptions.html" title="class in com.yubico.webauthn">StartAssertionOptions</a></td>
<td class="colLast">
<div class="block">Parameters for <a href="../../../com/yubico/webauthn/RelyingParty.html#startAssertion-com.yubico.webauthn.StartAssertionOptions-"><code>RelyingParty.startAssertion(StartAssertionOptions)</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/StartAssertionOptions.StartAssertionOptionsBuilder.html" title="class in com.yubico.webauthn">StartAssertionOptions.StartAssertionOptionsBuilder</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/StartRegistrationOptions.html" title="class in com.yubico.webauthn">StartRegistrationOptions</a></td>
<td class="colLast">
<div class="block">Parameters for <a href="../../../com/yubico/webauthn/RelyingParty.html#startRegistration-com.yubico.webauthn.StartRegistrationOptions-"><code>RelyingParty.startRegistration(StartRegistrationOptions)</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/StartRegistrationOptions.StartRegistrationOptionsBuilder.html" title="class in com.yubico.webauthn">StartRegistrationOptions.StartRegistrationOptionsBuilder</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../com/yubico/webauthn/StartRegistrationOptions.StartRegistrationOptionsBuilder.MandatoryStages.html" title="class in com.yubico.webauthn">StartRegistrationOptions.StartRegistrationOptionsBuilder.MandatoryStages</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package com.yubico.webauthn Description">Package com.yubico.webauthn Description</h2>
<div class="block">This package makes up the public API of the webauthn-server-core library.

 <p>
 The main entry point is the <a href="../../../com/yubico/webauthn/RelyingParty.html" title="class in com.yubico.webauthn"><code>RelyingParty</code></a> class. It provides methods for generating inputs
 to the <code>navigator.credentials.create()</code> and <code>navigator.credentials.get()</code> methods and for
 processing the return values from those same methods. In order to do this, the <a href="../../../com/yubico/webauthn/RelyingParty.html" title="class in com.yubico.webauthn"><code>RelyingParty</code></a> needs an instance of the <a href="../../../com/yubico/webauthn/CredentialRepository.html" title="interface in com.yubico.webauthn"><code>CredentialRepository</code></a> interface
 to use for looking up the credential IDs and public keys registered to each user, among other things.
 </p>


 <h2>What this library does not do</h2>

 <p>
 This library has no concept of accounts, sessions, permissions or identity federation - it only deals with executing
 the Web Authentication <i>authentication mechanism</i>. Sessions, account management and other higher level concepts
 can make use of this authentication mechanism, but the authentication mechanism alone does not make a security
 system.
 </p>


 <h2>Usage overview</h2>
 <p>
 At its core, the library provides four operations:
 </p>

 <ul>
 <li>
 Initiate a registration operation given a user and some settings for the credential to be created
 </li>
 <li>
 Finish a registration operation given the initiation request and the authenticator response
 </li>
 <li>
 Initiate an authentication operation given a username
 </li>
 <li>
 Finish an authentication operation given the initiation request and the authenticator response
 </li>
 </ul>

 <p>
 The "start" methods return request objects containing the parameters to be used in the call to
 <code>navigator.credentials.create()</code> or <code>navigator.credentials.get()</code>, and the "finish" methods
 expect a pair of such a request object and the response object returned from the browser. The library itself is
 stateless; once constructed, a <a href="../../../com/yubico/webauthn/RelyingParty.html" title="class in com.yubico.webauthn"><code>RelyingParty</code></a> instance never modifies its fields, and the
 "finish" methods return plain object representations of the results. These methods perform all the verification logic
 specified by Web Authentication, but it is your responsibility as the library user to store pending requests and act
 upon the returned results - including enforcing policies and updating databases.
 </p>


 <h3>Data classes and builders</h3>

 <p>
 Logic classes as well as data classes in this library are all immutable, and provide <a
 href="https://en.wikipedia.org/wiki/Builder_pattern">builders</a> for their construction. Most builders have required
 parameters, which is encoded in the type system - the
 <code>build()</code> method will be made available only once all required parameters have been set. The data classes
 also each have a <code>toBuilder()</code> method which can be used to create a modified copy of the instance.
 </p>


 <h2>Instantiating the library</h2>
 <p>
 The main entry point to the library is the <a href="../../../com/yubico/webauthn/RelyingParty.html" title="class in com.yubico.webauthn"><code>RelyingParty</code></a> class, which can be instantiated
 via its <a href="../../../com/yubico/webauthn/RelyingParty.html#builder--"><code>builder</code></a>. Refer to the <a href="../../../com/yubico/webauthn/RelyingParty.RelyingPartyBuilder.html" title="class in com.yubico.webauthn"><code>RelyingParty.RelyingPartyBuilder</code></a> documentation for descriptions of the parameters. Of particular
 note is the <a href="../../../com/yubico/webauthn/RelyingParty.RelyingPartyBuilder.html#credentialRepository-com.yubico.webauthn.CredentialRepository-"><code>credentialRepository</code></a> parameter, which takes an application-specific database adapter to use for looking up users'
 credentials. You'll need to implement the <a href="../../../com/yubico/webauthn/CredentialRepository.html" title="interface in com.yubico.webauthn"><code>CredentialRepository</code></a> interface with your own
 database access logic.
 </p>
 <p>
 Like all other classes in the library, <a href="../../../com/yubico/webauthn/RelyingParty.html" title="class in com.yubico.webauthn"><code>RelyingParty</code></a> is stateless and therefore thread
 safe.
 </p>


 <h2>Registration</h2>

 <p>
 To initiate a registration operation, construct a <a href="../../../com/yubico/webauthn/StartRegistrationOptions.html" title="class in com.yubico.webauthn"><code>StartRegistrationOptions</code></a> instance using
 its <a href="../../../com/yubico/webauthn/StartRegistrationOptions.html#builder--"><code>builder</code></a> and pass that into <a href="../../../com/yubico/webauthn/RelyingParty.html#startRegistration-com.yubico.webauthn.StartRegistrationOptions-"><code>RelyingParty.startRegistration(StartRegistrationOptions)</code></a>. The only required parameter is a
 <a href="../../../com/yubico/webauthn/data/UserIdentity.html" title="class in com.yubico.webauthn.data"><code>UserIdentity</code></a> describing the user for which to create a credential. One noteworthy
 part of <a href="../../../com/yubico/webauthn/data/UserIdentity.html" title="class in com.yubico.webauthn.data"><code>UserIdentity</code></a> is the <a href="../../../com/yubico/webauthn/data/UserIdentity.html#getId--"><code>id</code></a>
 field, containing the <a href="https://www.w3.org/TR/2019/PR-webauthn-20190117/#user-handle">user handle</a> for the
 user. This should be a stable, unique identifier for the user - equivalent to a username, in most cases. However, due
 to <a href="https://www.w3.org/TR/2019/PR-webauthn-20190117/#sctn-user-handle-privacy">privacy considerations</a> it
 is recommended to set the user handle to a random byte array rather than, say, the username encoded in UTF-8.
 </p>

 <p>
 The <a href="../../../com/yubico/webauthn/RelyingParty.html#startRegistration-com.yubico.webauthn.StartRegistrationOptions-"><code>startRegistration</code></a> method
 returns a <a href="../../../com/yubico/webauthn/data/PublicKeyCredentialCreationOptions.html" title="class in com.yubico.webauthn.data"><code>PublicKeyCredentialCreationOptions</code></a> which can be serialized to JSON and
 passed as the <code>publicKey</code> argument to <code>navigator.credentials.create()</code>. You can use the <a href="../../../com/yubico/webauthn/data/PublicKeyCredentialCreationOptions.html#toBuilder--"><code>toBuilder()</code></a> method to make any modifications
 you need. You should store this in temporary storage so that it can later be passed as an argument to <a href="../../../com/yubico/webauthn/RelyingParty.html#finishRegistration-com.yubico.webauthn.FinishRegistrationOptions-"><code>RelyingParty.finishRegistration(FinishRegistrationOptions)</code></a>.
 </p>

 <p>
 After receiving the response from the client, construct a <a href="../../../com/yubico/webauthn/data/PublicKeyCredential.html" title="class in com.yubico.webauthn.data"><code>PublicKeyCredential</code></a>&lt;<a href="../../../com/yubico/webauthn/data/AuthenticatorAttestationResponse.html" title="class in com.yubico.webauthn.data"><code>AuthenticatorAttestationResponse</code></a>, <a href="../../../com/yubico/webauthn/data/ClientRegistrationExtensionOutputs.html" title="class in com.yubico.webauthn.data"><code>ClientRegistrationExtensionOutputs</code></a>&gt;
 from the response and wrap that in a <a href="../../../com/yubico/webauthn/FinishRegistrationOptions.html" title="class in com.yubico.webauthn"><code>FinishRegistrationOptions</code></a> along with the <a href="../../../com/yubico/webauthn/data/PublicKeyCredentialCreationOptions.html" title="class in com.yubico.webauthn.data"><code>PublicKeyCredentialCreationOptions</code></a> used to initiate the request. Pass that as the argument
 to <a href="../../../com/yubico/webauthn/RelyingParty.html#finishRegistration-com.yubico.webauthn.FinishRegistrationOptions-"><code>RelyingParty.finishRegistration(FinishRegistrationOptions)</code></a>, which will return a <a href="../../../com/yubico/webauthn/RegistrationResult.html" title="class in com.yubico.webauthn"><code>RegistrationResult</code></a> if successful and throw an exception if not. Regardless of whether it
 succeeds, you should remove the <a href="../../../com/yubico/webauthn/data/PublicKeyCredentialCreationOptions.html" title="class in com.yubico.webauthn.data"><code>PublicKeyCredentialCreationOptions</code></a> from the pending
 requests storage to prevent retries.
 </p>

 <p>
 Finally, use the <a href="../../../com/yubico/webauthn/RegistrationResult.html" title="class in com.yubico.webauthn"><code>RegistrationResult</code></a> to update any database(s) and take other actions
 depending on your application's needs. In particular:
 </p>

 <ul>
 <li>
 Store the <a href="../../../com/yubico/webauthn/RegistrationResult.html#getKeyId--"><code>keyId</code></a> and <a href="../../../com/yubico/webauthn/RegistrationResult.html#getPublicKeyCose--"><code>publicKeyCose</code></a> as a new credential for the user. The <a href="../../../com/yubico/webauthn/CredentialRepository.html" title="interface in com.yubico.webauthn"><code>CredentialRepository</code></a> will need to look these up for authentication.
 </li>
 <li>
 Inspect the <a href="../../../com/yubico/webauthn/RegistrationResult.html#getWarnings--"><code>warnings</code></a> - ideally there should of course be
 none.
 </li>
 <li>
 If you care about authenticator attestation, use the <a href="../../../com/yubico/webauthn/RegistrationResult.html#isAttestationTrusted--"><code>attestationTrusted</code></a>, <a href="../../../com/yubico/webauthn/RegistrationResult.html#getAttestationType--"><code>attestationType</code></a> and <a href="../../../com/yubico/webauthn/RegistrationResult.html#getAttestationMetadata--"><code>attestationMetadata</code></a> fields to enforce your
 attestation policy.
 </li>
 <li>
 If you care about authenticator attestation, it is recommended to also store the raw <a href="../../../com/yubico/webauthn/data/AuthenticatorAttestationResponse.html#getAttestationObject--"><code>attestation object</code></a> as part of the
 credential. This enables you to retroactively inspect credential attestations in response to policy changes and/or
 compromised authenticators.
 </li>
 </ul>


 <h2>Authentication</h2>

 <p>
 Authentication works much like registration, except less complex because of the fewer parameters and the absence of
 authenticator attestation complications.
 </p>

 <p>
 To initiate an authentication operation, call <a href="../../../com/yubico/webauthn/RelyingParty.html#startAssertion-com.yubico.webauthn.StartAssertionOptions-"><code>RelyingParty.startAssertion(StartAssertionOptions)</code></a>.
 The main parameter you need to set here is the <a href="../../../com/yubico/webauthn/StartAssertionOptions.StartAssertionOptionsBuilder.html#username-java.util.Optional-"><code>username</code></a> of the user to authenticate, but even this parameter is optional. If the username is not set, then the
 <a href="../../../com/yubico/webauthn/data/PublicKeyCredentialRequestOptions.html#getAllowCredentials--"><code>allowCredentials</code></a> parameter
 will not be set. This which means the user must use a <a href="https://www.w3.org/TR/2019/PR-webauthn-20190117/#client-side-resident-public-key-credential-source">client-side-resident
 credential</a> to authenticate; also known as "first-factor authentication". This use case has both advantages and
 disadvantages; see the Web Authentication specification for an extended discussion of this.
 </p>

 <p>
 The <a href="../../../com/yubico/webauthn/RelyingParty.html#startAssertion-com.yubico.webauthn.StartAssertionOptions-"><code>startAssertion</code></a> method returns an
 <a href="../../../com/yubico/webauthn/AssertionRequest.html" title="class in com.yubico.webauthn"><code>AssertionRequest</code></a> containing the username, if any, and a <a href="../../../com/yubico/webauthn/data/PublicKeyCredentialRequestOptions.html" title="class in com.yubico.webauthn.data"><code>PublicKeyCredentialRequestOptions</code></a> instance which can be serialized to JSON and passed as
 the <code>publicKey</code> argument to <code>navigator.credentials.get()</code>. Again, store the <a href="../../../com/yubico/webauthn/AssertionRequest.html" title="class in com.yubico.webauthn"><code>AssertionRequest</code></a> in temporary storage so it can be passed as an argument to <a href="../../../com/yubico/webauthn/RelyingParty.html#finishAssertion-com.yubico.webauthn.FinishAssertionOptions-"><code>RelyingParty.finishAssertion(com.yubico.webauthn.FinishAssertionOptions)</code></a>.
 </p>

 <p>
 After receiving the response from the client, construct a <a href="../../../com/yubico/webauthn/data/PublicKeyCredential.html" title="class in com.yubico.webauthn.data"><code>PublicKeyCredential</code></a>&lt;<a href="../../../com/yubico/webauthn/data/AuthenticatorAssertionResponse.html" title="class in com.yubico.webauthn.data"><code>AuthenticatorAssertionResponse</code></a>, <a href="../../../com/yubico/webauthn/data/ClientAssertionExtensionOutputs.html" title="class in com.yubico.webauthn.data"><code>ClientAssertionExtensionOutputs</code></a>&gt;
 from the response and wrap that in a <a href="../../../com/yubico/webauthn/FinishAssertionOptions.html" title="class in com.yubico.webauthn"><code>FinishAssertionOptions</code></a> along with the <a href="../../../com/yubico/webauthn/AssertionRequest.html" title="class in com.yubico.webauthn"><code>AssertionRequest</code></a> used to initiate the request. Pass that as the argument to <a href="../../../com/yubico/webauthn/RelyingParty.html#finishAssertion-com.yubico.webauthn.FinishAssertionOptions-"><code>RelyingParty.finishAssertion(com.yubico.webauthn.FinishAssertionOptions)</code></a>, which will return an
 <a href="../../../com/yubico/webauthn/AssertionResult.html" title="class in com.yubico.webauthn"><code>AssertionResult</code></a> if successful and throw an exception if not. Regardless of whether it
 succeeds, you should remove the <a href="../../../com/yubico/webauthn/AssertionRequest.html" title="class in com.yubico.webauthn"><code>AssertionRequest</code></a> from the pending requests storage to
 prevent retries.
 </p>

 <p>
 Finally, use the <a href="../../../com/yubico/webauthn/AssertionResult.html" title="class in com.yubico.webauthn"><code>AssertionResult</code></a> to update any database(s) and take other actions
 depending on your application's needs. In particular:
 </p>

 <ul>
 <li>
 Use the <a href="../../../com/yubico/webauthn/AssertionResult.html#getUsername--"><code>username</code></a> and/or <a href="../../../com/yubico/webauthn/AssertionResult.html#getUserHandle--"><code>userHandle</code></a> results to initiate a user session.
 </li>
 <li>
 Update the stored signature count for the credential (identified by the <a href="../../../com/yubico/webauthn/AssertionResult.html#getCredentialId--"><code>credentialId</code></a> result) to equal the value returned in the <a href="../../../com/yubico/webauthn/AssertionResult.html#getSignatureCount--"><code>signatureCount</code></a> result.
 </li>
 <li>
 Inspect the <a href="../../../com/yubico/webauthn/RegistrationResult.html#getWarnings--"><code>warnings</code></a> - ideally there should of course be
 none.
 </li>
 </ul></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/yubico/internal/util/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../com/yubico/webauthn/attestation/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/yubico/webauthn/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
